# Messaging &amp; Events

In this part we learn how to use Ignite **messaging &amp; events system**.

=========
## Messaging

Ignite provides a **topic-based** messaging system.

A node can **subscribe** to messages **published** on a **topic** from local node or remote nodes.

=========
## Messaging: How To

**Subscribing** to topic messages and **publishing** a message to a topic is as simple as:

```java
import org.apache.ignite.*;

public class App {

    public static void main(String[] args) {

        Ignite ignite = Ignition.start();

        ignite.message().remoteListen("my-topic", (nodeId, message) -> {
            System.out.println("message: " + message);
            return true; // keep on listening to new messages
        });

        ignite.message().send("my-topic", "Hello");

    }

}
```

=========
## Messaging: Code It

Complete **Step1_Messaging** class.

Run it:
```bash
./gradlew runClient
Part5_Step1
```

=========
## Messaging: Checks

Ensure messages sent from client node and server nodes are all displayed in **client node** console only.

=========
## Events

Ignite also provides an **event-based** notification system.

A node can **subscribe** to events **triggered** on local node or remote nodes.

Events can be things such as: value put in cache, job execution end or failure, node leaving or joining cluster.

=========
## Events: How To

**Subscribing** to events is pretty easy:

```java
import org.apache.ignite.*;

public class App {
    public static void main(String[] args) {

        Ignite ignite = Ignition.start();

        ignite.events().remoteListen(
            (nodeId, event) -> {
                System.out.println("event: " + event);
                return true; // keep on listening to new events
            },
            event -> event.type() == EventType.EVT_CACHE_OBJECT_PUT
        );
    }
}
```
Here we register a listener printing event on console.

Events are filtered on remote nodes: only **cache put events** are sent to the listener.

=========
## Events: Warning

A **LOT of events** can be generated by **your application** or internally by **Ignite Kernel**.

A special care has to be taken when listening to events, and that's why they are **disabled by default**.

For this hands on, only 2 events were enabled to illustrate **events system**.

> See **Config** class for more details if you want to test other events

=========
## Events: Code It

Complete **Step2_Event** class.

Run it:
```bash
./gradlew runClient
Part5_Step2
```

=========
## Events: Checks

Ensure events are displayed in **client node** console only.

You should see other events logged since **ClientApp** logs the begin and end of each execution step on each node using a broadcast call.

=========
## Events &amp; Messaging

There are a few other features related to events and messaging like:

- registering local listener

- batching or querying events

But that's pretty much it.

=========
## Next Step: Cluster

If you still have enough time you can continue with **cluster** part, otherwise go to the **demo**.

[Home](../readme.md) | [Back](part3_service-grid.md) | [Next](part5_cluster.md)
